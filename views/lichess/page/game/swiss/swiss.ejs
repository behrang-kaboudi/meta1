<%- include('../../../share/superheader') -%>
<%-include('../../../component/mainnav') -%>
<link rel="stylesheet" href="/public/components/bk-chessboard/css/bk-board.css" />
<!-- <script src="/public/components/bk-chessboard/js/bk-board.js"></script> -->
<script src="/public/components/bk-chessboard/js/bk-board-class.js"></script>
<script src="/public/components/bk-chessboard/js/bk-board-consts.js"></script>
<script src="/public/js/chess.js"></script>
<style>
  .swiss-holder {
    width: 97%;
    font-size: clamp(0.7rem, 1.3vw, 2rem);
  }


  @media (min-width: 768px) {
    .swiss-holder {
      width: 85%;
    }
  }

  .clicked-header {
    color: red;
    border-bottom: solid 1px red;
  }
</style>
<div class="wg-box swiss-holder mx-auto pt-1 pb-4">
  <div class="mx-2 mt-3 mb-1">
    <div class="dir-ltr d-flex justify-content-between mx-2 align-items-center">
      <div style="" class="fw-bolder sbkc-fs-6">
        <%-tournament.title%>
      </div>
      <div class="d-flex justify-content-between mx-2 align-items-center">
        <span id="swiss-timeToStart" class="me-3">

        </span>
        <span id="swiss-registerBtn">

        </span>
      </div>
    </div>
  </div>
  <div id="swissHeaders" class="row container-fluid dir-ltr mx-auto">
    <div id="headerStandings" class="col-3 text-center pointer py-2">
      <%- user.trans('Standings') %>
    </div>
    <div id="headerRounds" class="col-3 text-center pointer py-2">
      <%- user.trans('Rounds') %>
    </div>
    <div id="headerInfo" class="col-3 text-center pointer py-2">
      <%- user.trans('Info') %>
    </div>
    <div id="headerGames" class="col-3 text-center pointer py-2">
      <%- user.trans('Games') %>
    </div>
  </div>
  <div class="mt-3 dir-ltr">
    <div id="bodyStandings" class="row container-fluid dir-ltr mx-auto">
      <div class="row g-0 dir-ltr" style=''>
        <div id="swissChat" class="col-lg-4" style=''>
        </div>
        <div class="col-lg-8 px-1">
          <div id='swissStanding'>
          </div>
        </div>
      </div>
    </div>
    <div id="bodyRounds" class="row container-fluid mx-auto">
    </div>
    <div id="bodyInfo" class="row container-fluid  mx-auto">
    </div>
    <div id="bodyGames" class="row container-fluid mx-auto">
      <div id='swissAllGames' class="dir-ltr">
      </div>
    </div>
  </div>
</div>

<script>
  let liveTournament = {};
  const tourId = `<%-tournament._id%>`;



  $(() => {
    let swissObj = {
      headerMenus: {
        standing: document.getElementById('headerStandings'),
        rounds: document.getElementById('headerRounds'),
        info: document.getElementById('headerInfo'),
        games: document.getElementById('headerGames'),
      },
      bodies: {
        standing: document.getElementById('bodyStandings'),
        rounds: document.getElementById('bodyRounds'),
        info: document.getElementById('bodyInfo'),
        games: document.getElementById('bodyGames'),
      },
      selectPart: (type) => {
        for (const key in swissObj.headerMenus) {
          swissObj.headerMenus[key].classList.remove('clicked-header')
          swissObj.bodies[key].classList.add('d-none')
        }
        swissObj.headerMenus[type].classList.add('clicked-header')
        swissObj.bodies[type].classList.remove('d-none')
      },
      addEvents: () => {
        for (const key in swissObj.headerMenus) {
          swissObj.headerMenus[key].addEventListener('click', () => {
            swissObj.selectPart(key);
          })
        }
      }

    }
    swissObj.addEvents();
    swissObj.selectPart('standing');
    // swissObj.selectPart('result')

  })
</script>
<script>
</script>
<script type="module">
   import{ getManager } from "/public/components/siteReact/swiss/tourManager.js";
   $(()=>{
    getManager({data, server: {
          root: 'swiss',
          fName: 'tour',
          id: tourId,
          req:true
      }})
   })

   let data = {
    // tour: currentTour,
    // standing: currentStanding,
    // games:currentGames
    }
    
   
</script>
<%- include('../../../share/superfooter') -%>